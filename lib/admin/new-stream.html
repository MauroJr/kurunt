<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="user-scalable=yes" /> 
  <title>Kurunt - New Stream</title>

  <script src="jquery.min.js"></script>

  <link href="style.css" media="all" rel="stylesheet" type="text/css" />
  <style type="text/css">

		h3 {  
		  margin-top: 10px;
		  font-size: 16pt; 
		  font-weight: bold;
		  color: #333333;
		  padding-bottom: 0;
		}

		.workers {
			float: left;
			display: inline;            
		}
		
		.worker {
			float: left;
			margin: 0 2em 2em 0;
			background: #333333;
			padding: 12px;
			border: 1px solid #abadb3;
			width: 174px;
			min-height: 110px;
			-moz-border-radius: 13px;
			-webkit-border-radius: 13px;
			-khtml-border-radius: 13px;
			border-radius: 13px;                   
		}
		.worker h3 {
			margin: 0.5em 0 0.5em 0.35em;
			font-size: 120%;
			font-weight: bold;
			color: #fff;
			text-align: left;
		}
		.worker p {
			margin: 0.5em;
			font-size: 88%;
			min-height: 40px;
			color: #fff;
			text-align: left;
			line-height: 130%;
		}
		
		
		.worker:hover {
			background: #00877A;
			cursor: pointer;
		}
		
		.h2B {
 			margin-bottom: 15px;
 			border-bottom: solid 1px #C0B6B6;		
		}
		
		
  </style>
</head>

<body>

  <div id="headermenu">
    <div class="wrapper">
      <div id="logo"><img src="/images/logo.png" alt="" /></div>
      <div id="navs">
        <a href="streams.html">Streams</a>
        <a id="report-address" href="<kurunt-report-address>">Report</a>
      </div>
    </div>
  </div>

  <div class="wrapper white" id="contents">


    <h1>New Stream</h1>

  
    <script>

      // set header colour:
      var header_colours = ['#DE45B3','#FF6640','#5C56F0','#0C9688','#3B5998','#D8272D','#1352A2','#442D65','#007034','#FE9601'];
      $('#headermenu').css('background', header_colours[Math.floor(Math.random()*header_colours.length)]);
      
      var workers = JSON.parse(<kurunt-workers>);

			jQuery(function($){       
			 	$.each(workers, function(key, val) {
					//console.log('key: ' + key + ' val: ' + val);
					$('<span onclick="newStream(\''+key+'\')" class="worker"><h3>'+val['title']+'</h3><p>'+val['description']+'</p></span>').appendTo("#workers");
				});
				$('<span onclick="customWorker()" class="worker"><h3>Custom</h3><p>Create your own custom stream worker. It can be and do anything you want.</p></span>').appendTo("#workers");
      });
      
      function newStream(worker) {
      	console.log('new worker: ' + worker);
      	window.location.href = 'new-stream-settings.html?worker=' + worker;
      }
      
      function customWorker() {
      	window.open("http://docs.kurunt.com/Build_Your_Own_Worker");
      }
      
    </script>


 		<div class="pagespan container">
      <div class="wrap">
  
  			<div id="workers">

				</div>

      </div>
    </div>
    
   	<br class="clearBoth" />
   	<br/>
   	
   	<h2 class="h2B">About Streams</h2>
   	<p>Streams are inputs to your data. A stream corresponds with a format or 'worker' for processing your data. For example, opening a JSON stream, where you are inputing JSON formatted data. If your data is a combination of formats or does not correspond with the above list then you can <a href="http://docs.kurunt.com/Build_Your_Own_Worker" target="_blank">built your own</a> custom stream worker. It can be and do anything you want.</p>
    
    <br/><br/>
    
  </div>

  <div id="footer">
      <div class="wrapper">
        <p> 
          <a href="http://kurunt.com">Kurunt</a>
          <span class="seperator"> |</span>
          <a href="http://kurunt.com/support/">Support</a>
          <span class="seperator"> |</span> 
          <a href="https://github.com/kurunt">GitHub</a>
          <span class="seperator"> |</span>
          <a href="http://kurunt.com/license/">License</a>
        </p>  
        <p class="copyright">
          &copy; Copyright Kurunt 2013. Except where otherwise <a href="http://kurunt.com/license/">noted</a>, content on this site is licensed under a <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 License</a>.
        </p>
      </div>
    </div>

</body>
</html>
